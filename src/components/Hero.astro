---
import Carousel from "./Carousel.astro";

---
<section class="w-full h-dvh grid grid-cols-2 grid-rows-1 gap-3 justify-center item-center p-6 pt-28" >

  <div class="flex flex-col justify-center items-start gap-8 w-full
    col-start-1 col-end-2 row-start-1 row-end-1 z-1">
    <h1 class="text-7xl md:text-8xl lg:text-9xl font-nimbus w-full">
      GASTON <br>
      <span class="text-yellow-400">MAIDANA</span>
    </h1>
    <h2 class="text-4xl lg:text-5xl  font-nimbus w-full">
      SERVICIOS<br>
      <span class="text-yellow-400">
        AUDIOVISUALES
      </span>
    </h2>

    <a href="#" class="relative inline-flex items-center justify-center p-0.5 mb-2 me-2 
      overflow-hidden text-lg font-medium text-gray-900 rounded-lg bg-gradient-to-br
      from-yellow-400 via-yellow-100 to-yellow-500 dark:text-gray-900 focus:ring-4 focus:outline-none
      focus:ring-amber-500 hover:from-yellow-100 hover:via-yellow-500 hover:to-yellow-200">
      <span class="relative px-5 py-2.5 rounded-md">
        Contacto
      </span>
    </a>
  </div>

  <div id="default-carousel" data-carousel="slide"
    class="relative overflow-hidden h-full w-full col-start-2 col-end-3 
    row-start-1 row-end-1 mask-radial-from-25% mask-radial-to-80%">
    <div id="slider-hero" class="relative h-full overflow-hidden">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-1.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-2.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-3.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-4.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-1.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-6.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-7.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-8.png" alt="...">
      <img class="clip-hide object-cover transition-all duration-100 absolute block h-full" src="./img/carousel-9.png" alt="...">
    </div>

  </div>

</section>

<script is:inline>

  const sliderHero = document.getElementById('slider-hero');
  const slides = [...sliderHero.querySelectorAll('img')];
  const totalSlides = slides.length;
  const timeOut = 5000;
  let index = 0;
  const audio = new Audio('./sounds/camera-shot.mp3');
  
  function showSlide() {
    if (index >= totalSlides) index = 0;

    const currentSlide = slides[index];

    currentSlide.classList.add('clip-show');
    currentSlide.classList.remove('clip-hide');

    setTimeout(() => {
      currentSlide.classList.remove('clip-show');
      currentSlide.classList.add('clip-hide');
      index++;
      audio.currentTime = 0; // Reinicia el audio
      //audio.play();
      setTimeout(showSlide, 100); // espera a que la animaci√≥n termine
    }, timeOut); // tiempo visible
  }

  showSlide();
  
</script>